---
title: 站点地图
description: 如何生成网站的站点地图
icon: sitemap
---

next-forge 使用 Next.js 内置的站点地图生成功能（`sitemap.ts`）自动生成网站的站点地图。生成过程会扫描项目中的不同目录，并为各种类型的内容创建站点地图条目：

## 页面收集 / Page Collection

系统首先扫描 `app` 目录以收集所有页面路由：

1. 读取 `app` 文件夹中的所有目录
2. 过滤掉：
   - 以下划线（`_`）开头的目录，这些通常是内部/私有路由
   - 以括号（`(`）开头的目录，这些通常是 Next.js 路由组
3. 使用剩余的目录名作为有效的页面路由

## 内容收集 / Content Collection

系统然后扫描两个内容目录：

### 博客文章 / Blog Posts
- 读取 `content/blog` 目录中的所有文件
- 过滤掉：
  - 目录条目（只需要文件）
  - 以下划线开头的文件
  - 以括号开头的文件
- 从文件名中删除 `.mdx` 扩展名

### 法律页面 / Legal Pages
- 类似地扫描 `content/legal` 目录
- 应用与博客文章相同的过滤规则
- 删除 `.mdx` 扩展名

## 站点地图生成 / Sitemap Generation

最终的站点地图通过组合所有这些路由生成：

1. 添加基本 URL 作为根条目
2. 添加所有以基本 URL 为前缀的页面路由
3. 在 `blog/` 路径下添加所有博客文章
4. 在 `legal/` 路径下添加所有法律页面

每个站点地图条目包括：
- 完整的 URL（将基本 URL 与路由组合）
- `lastModified` 时间戳（设置为当前日期）

站点地图在每次构建期间自动重新生成，确保它与你的内容保持同步。
